'use strict';

var eventsObj = {
    addEvent: function (el, type, fn) {
        if (typeof addEnentListenere !== 'undefined') {
            el.addEnentListenet(type,  fn,  false);
        }
        else if (typeof attachEvent !== 'undefined') {
            el.attachEvent('on'+ type, fn);
        }
        else {
            el['on' + type] = fn;
        }
    },
    removeEvent: function (el, type, fn) {
        if (typeof removeEventListener !== 'undefined') {
            el.removeEventListener(type, fn, false);
        }
        else if (typeof detachEvent !== 'undefined') {
            el.detachEvent('on' + type,  fn);
        }
        else {
            el['on' + type] = null;
        }
    },
    getTarget: function (event) {
        if (typeof event.target !== 'undefined') {
            return event.target
        }
        else {
            return event.srcElement;
        }
    },
    preventDefault: function (event) {
        if (typeof event.preventDefault !== 'undefined') {
            event.preventDefault();
        }
        else {
            event.returnValue = false;
        }
    }
};

"use strict";

(function() {
    var menu_collapsed = function(e) {
        var elem = eventsObj.getTarget(e),
            menu = document.getElementById("menu");

        if (e.path.indexOf(menu) !== -1 && menu.classList.contains("menu__wraper_mobile")) {
            if (menu.classList.contains('menu__wraper_mobile_expanded')) {
                menu.classList.remove('menu__wraper_mobile_expanded');
            }
            else {
                menu.classList.add('menu__wraper_mobile_expanded');
            }
        }
        else {
            if (menu.classList.contains('menu__wraper_mobile_expanded')) {
                menu.classList.remove('menu__wraper_mobile_expanded');
            }
        }
    };

    eventsObj.addEvent(document, 'click', menu_collapsed);
})();



